import{u as K,G as Y,r as c,c as B,aq as G,j as e,ar as Ie,as as Te,at as Se,au as ce,av as De,aw as Le,ax as Oe,ay as Ue,az as ke,aA as ee,aB as Me,aC as Ve,aD as Pe,aE as ae,aF as _e,aG as se,aH as Re,b as Fe,N as ne,R as He,z as _}from"./index-zLCb2fgV.js";import{r as P,O as h,H as X,P as J,D as N,E as l,b as v,I as W,M as f,V as de,W as me,X as H,Y as w,Z as he,_ as A,a0 as ue,a1 as xe,a2 as je,a3 as ge,a4 as pe,f as F,J as Ce,a7 as g,aa as R,N as fe,$ as ve,a5 as re,K as Be,L as Ge,ab as Ze,ac as $e,a8 as qe,t as Ke,ad as Ye,k as ie,x as oe}from"./index.esm-CGtd4b9a.js";import{c as Ne,a as Xe}from"./cil-pencil-c5jg0gho.js";import{c as be}from"./cil-plus-DmDyxMpI.js";import{c as ye}from"./cil-search-C59ySTwT.js";import{c as ze}from"./cil-trash-Bi1lSbbJ.js";import{O as Je}from"./constants-DN2KnU_M.js";import{c as We}from"./cil-arrow-left-XthWZumH.js";const Qe=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M199.066,456l-7.379-7.514-3.94-3.9-86.2-86.2.053-.055L17.936,274.665l97.614-97.613,83.565,83.565L398.388,61.344,496,158.958,296.729,358.229,285.469,369.6ZM146.6,358.183l52.459,52.46.1-.1.054.054,52.311-52.311,11.259-11.368L450.746,158.958,398.388,106.6,199.115,305.871,115.55,222.306,63.191,274.665l83.464,83.463Z' class='ci-primary'/>"],ea=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='346.231 284.746 256.039 194.554 165.847 284.746 188.474 307.373 240.039 255.808 240.039 496 272.039 496 272.039 255.808 323.604 307.373 346.231 284.746' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M400,161.453V160c0-79.4-64.6-144-144-144S112,80.6,112,160v2.491A122.285,122.285,0,0,0,49.206,195.2,109.4,109.4,0,0,0,16,273.619c0,31.119,12.788,60.762,36.01,83.469C74.7,379.275,105.338,392,136.07,392H200V360H136.07C89.154,360,48,319.635,48,273.619c0-42.268,35.64-77.916,81.137-81.155L144,191.405V160a112,112,0,0,1,224,0v32.04l15.8.2c46.472.588,80.2,34.813,80.2,81.379C464,322.057,428.346,360,382.83,360H312v32h70.83a109.749,109.749,0,0,0,81.14-35.454C484.625,334.339,496,304.889,496,273.619,496,215.182,455.716,169.392,400,161.453Z' class='ci-primary'/>"],aa=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M265.614,206.387H456V16H424V149.887L397.863,123.75c-79.539-79.539-208.96-79.54-288.5,0s-79.539,208.96,0,288.5a204.232,204.232,0,0,0,288.5,0l-22.627-22.627c-67.063,67.063-176.182,67.063-243.244,0s-67.063-176.183,0-243.246,176.182-67.063,243.245,0l28.01,28.01H265.614Z' class='ci-primary'/>"],sa=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M472.971,122.344,373.656,23.029A23.838,23.838,0,0,0,356.687,16H56A24.028,24.028,0,0,0,32,40V472a24.028,24.028,0,0,0,24,24H456a24.028,24.028,0,0,0,24-24V139.313A23.838,23.838,0,0,0,472.971,122.344ZM320,48v96H176V48ZM448,464H64V48h80V176H352V48h1.373L448,142.627Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M252,224a92,92,0,1,0,92,92A92.1,92.1,0,0,0,252,224Zm0,152a60,60,0,1,1,60-60A60.068,60.068,0,0,1,252,376Z' class='ci-primary'/>"],Ae=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='427.314 107.313 404.686 84.687 256 233.373 107.314 84.687 84.686 107.313 233.373 256 84.686 404.687 107.314 427.313 256 278.627 404.686 427.313 427.314 404.687 278.627 256 427.314 107.313' class='ci-primary'/>"],q={CREATING:"CREATING",ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},na=()=>{const n=K(),d=Y(),[u,t]=c.useState(""),[i,p]=c.useState(!1),[r,x]=c.useState(null),{organizations:I,loading:S,error:D}=B(a=>a.organizations);c.useEffect(()=>{n(G())},[n]);const b=()=>{d("/admin/organizaciones/nueva")},E=a=>{d(`/admin/organizaciones/editar/${a}`)},U=a=>{n(Te(a))},y=a=>{n(Ie(a))},z=a=>{x(a),p(!0)},T=()=>{r&&(n(Se(r._id)),p(!1),x(null))},L=()=>{p(!1),x(null)},k=I?.filter(a=>(a.name?.toLowerCase()||"").includes(u.toLowerCase())||(a.nit?.toLowerCase()||"").includes(u.toLowerCase()))||[],C=a=>{switch(a){case q.ACTIVE:return e.jsx(F,{color:"success",children:"Activa"});case q.INACTIVE:return e.jsx(F,{color:"danger",children:"Inactiva"});case q.CREATING:return e.jsx(F,{color:"warning",children:"Creando"});default:return e.jsx(F,{color:"info",children:"Desconocido"})}};return S?e.jsx("div",{className:"d-flex justify-content-center mt-5",children:e.jsx(P,{})}):D?e.jsxs("div",{className:"mt-3",children:[e.jsxs("h6",{className:"text-danger",children:["Error: ",D]}),e.jsx(h,{color:"primary",onClick:()=>n(G()),children:"Reintentar"})]}):e.jsxs(c.Fragment,{children:[e.jsxs(X,{children:[e.jsx(J,{children:e.jsxs(N,{className:"align-items-center justify-content-between",children:[e.jsx(l,{children:e.jsx("h5",{className:"mb-0",children:"Administración de Organizaciones"})}),e.jsx(l,{xs:"auto",children:e.jsxs(h,{color:"primary",onClick:b,children:[e.jsx(v,{icon:be,className:"me-2"}),"Nueva Organización"]})})]})}),e.jsxs(W,{children:[e.jsx(N,{className:"mb-3",children:e.jsx(l,{children:e.jsx(f,{placeholder:"Buscar por nombre o NIT...",value:u,onChange:a=>t(a.target.value),text:!0,prefix:e.jsx(v,{icon:ye})})})}),e.jsxs(de,{hover:!0,responsive:!0,children:[e.jsx(me,{children:e.jsxs(H,{children:[e.jsx(w,{children:"Nombre"}),e.jsx(w,{children:"NIT"}),e.jsx(w,{children:"Ubicación"}),e.jsx(w,{children:"Estado"}),e.jsx(w,{children:"Acciones"})]})}),e.jsx(he,{children:k.length===0?e.jsx(H,{children:e.jsx(A,{colSpan:5,className:"text-center",children:"No se encontraron organizaciones"})}):k.map(a=>e.jsxs(H,{children:[e.jsx(A,{children:a.name}),e.jsx(A,{children:a.nit}),e.jsx(A,{children:a.city&&a.country?`${a.city}, ${a.country}`:"-"}),e.jsx(A,{children:C(a.status)}),e.jsxs(A,{children:[e.jsx(h,{color:"primary",size:"sm",variant:"ghost",onClick:()=>E(a._id),className:"me-2",children:e.jsx(v,{icon:Ne})}),a.status===q.ACTIVE?e.jsx(h,{color:"danger",size:"sm",variant:"ghost",onClick:()=>y(a._id),className:"me-2",children:e.jsx(v,{icon:Ae})}):e.jsx(h,{color:"success",size:"sm",variant:"ghost",onClick:()=>U(a._id),className:"me-2",children:e.jsx(v,{icon:Qe})}),e.jsx(h,{color:"danger",size:"sm",variant:"ghost",onClick:()=>z(a),children:e.jsx(v,{icon:ze})})]})]},a._id))})]})]})]}),e.jsxs(ue,{visible:i,onClose:L,"aria-labelledby":"delete-organization-modal",alignment:"center",children:[e.jsx(xe,{closeButton:!0,children:e.jsx(je,{id:"delete-organization-modal",children:"Confirmar eliminación"})}),e.jsx(ge,{children:r&&e.jsxs("p",{children:["¿Está seguro que desea eliminar la organización ",e.jsx("strong",{children:r.name}),"?",e.jsx("br",{}),"Esta acción no se puede deshacer."]})}),e.jsxs(pe,{children:[e.jsx(h,{color:"secondary",onClick:L,children:"Cancelar"}),e.jsx(h,{color:"danger",onClick:T,children:"Eliminar"})]})]})]})},te=()=>{const{id:n}=ce(),d=K(),u=Y(),{selectedOrganization:t,loading:i,error:p,organizations:r}=B(C=>C.organizations),[x,I]=c.useState({name:"",nit:"",address:"",city:"",country:"",phoneNumber:""}),[S,D]=c.useState(!1),[b,E]=c.useState(!1),[U,y]=c.useState("");c.useEffect(()=>{n?d(De(n)):(d(G()),d(Le()))},[d,n]),c.useEffect(()=>{t&&n&&I({name:t.name||"",nit:t.nit||"",address:t.address||"",city:t.city||"",country:t.country||"",phoneNumber:t.phoneNumber||""})},[t,n]);const z=C=>{const{name:a,value:j}=C.target;if(I(m=>({...m,[a]:j})),a==="name"&&j.trim()!==""){const m=j.trim().toLowerCase();if(n&&t&&t.name.toLowerCase()===m){E(!1),y("");return}r?.some(M=>M.name.toLowerCase()===m&&M._id!==n)?(E(!0),y(`An organization named "${j}" already exists.`)):(E(!1),y(""))}},T=C=>{C.preventDefault();const a=C.currentTarget;if(D(!0),a.checkValidity()===!1||b){C.stopPropagation();return}n?d(Oe({id:n,organization:x})).unwrap().then(()=>{u("/admin/organizaciones")}).catch(j=>{(j?.code==="DUPLICATE_NAME"||j?.code==="DUPLICATE_KEY")&&(E(!0),y(j.message||"An organization with this name already exists."))}):d(Ue(x)).unwrap().then(()=>{u("/admin/organizaciones")}).catch(j=>{(j?.code==="DUPLICATE_NAME"||j?.code==="DUPLICATE_KEY")&&(E(!0),y(j.message||"An organization with this name already exists."))})},L=()=>{u("/admin/organizaciones")},k=()=>{!n||!t||d(ke(n)).unwrap().then(()=>{d(G()),u("/admin/organizaciones")}).catch(C=>{console.error("Error deploying organization:",C),alert(`Error al desplegar la organización: ${C.message||"Error desconocido"}`)})};return i&&n?e.jsx("div",{className:"d-flex justify-content-center mt-5",children:e.jsx(P,{})}):e.jsxs(X,{children:[e.jsx(J,{children:e.jsx("h5",{className:"mb-0",children:n?"Editar Organización":"Nueva Organización"})}),e.jsxs(Ce,{noValidate:!0,validated:S,onSubmit:T,children:[e.jsxs(W,{children:[p&&e.jsx("div",{className:"alert alert-danger",role:"alert",children:p}),e.jsxs(N,{className:"mb-3",children:[e.jsxs(l,{md:6,children:[e.jsx(g,{htmlFor:"name",children:"Nombre"}),e.jsx(f,{id:"name",name:"name",value:x.name,onChange:z,required:!0,placeholder:"Nombre de la organización",invalid:S&&(x.name===""||b)}),e.jsx(R,{invalid:!0,children:b?U:"Por favor ingrese un nombre"}),b&&!S&&e.jsx(fe,{color:"warning",className:"mt-2",size:"sm",children:U})]}),e.jsxs(l,{md:6,children:[e.jsx(g,{htmlFor:"nit",children:"NIT"}),e.jsx(f,{id:"nit",name:"nit",value:x.nit,onChange:z,required:!0,placeholder:"NIT de la organización"}),e.jsx(R,{invalid:!0,children:"Por favor ingrese un NIT válido"})]})]}),e.jsx(N,{className:"mb-3",children:e.jsxs(l,{md:12,children:[e.jsx(g,{htmlFor:"address",children:"Dirección"}),e.jsx(f,{id:"address",name:"address",value:x.address,onChange:z,required:!0,placeholder:"Dirección completa"}),e.jsx(R,{invalid:!0,children:"Por favor ingrese una dirección"})]})}),e.jsxs(N,{className:"mb-3",children:[e.jsxs(l,{md:6,children:[e.jsx(g,{htmlFor:"city",children:"Ciudad"}),e.jsx(f,{id:"city",name:"city",value:x.city,onChange:z,required:!0,placeholder:"Ciudad"}),e.jsx(R,{invalid:!0,children:"Por favor ingrese una ciudad"})]}),e.jsxs(l,{md:6,children:[e.jsx(g,{htmlFor:"country",children:"País"}),e.jsx(f,{id:"country",name:"country",value:x.country,onChange:z,required:!0,placeholder:"País"}),e.jsx(R,{invalid:!0,children:"Por favor ingrese un país"})]})]}),e.jsx(N,{className:"mb-3",children:e.jsxs(l,{md:6,children:[e.jsx(g,{htmlFor:"phoneNumber",children:"Teléfono"}),e.jsx(f,{id:"phoneNumber",name:"phoneNumber",value:x.phoneNumber,onChange:z,required:!0,placeholder:"Número de teléfono"}),e.jsx(R,{invalid:!0,children:"Por favor ingrese un número de teléfono"})]})})]}),e.jsxs(ve,{className:"d-flex justify-content-end",children:[e.jsxs(h,{color:"danger",variant:"outline",className:"me-2",onClick:L,children:[e.jsx(v,{icon:Ae,className:"me-2"}),"Cancelar"]}),n&&t&&t.status===Je.CREATING&&e.jsxs(h,{color:"success",variant:"outline",className:"me-2",onClick:k,disabled:i,children:[i?e.jsx(P,{size:"sm",className:"me-2"}):e.jsx(v,{icon:ea,className:"me-2"}),"Desplegar"]}),e.jsxs(h,{color:"primary",type:"submit",disabled:i,children:[i?e.jsx(P,{size:"sm",className:"me-2"}):e.jsx(v,{icon:sa,className:"me-2"}),n?"Actualizar":"Guardar"]})]})]})]})},ra=()=>{const n=K(),d=Y(),[u,t]=c.useState(""),[i,p]=c.useState(!1),[r,x]=c.useState(null),{userAccounts:I=[],loading:S,error:D}=B(a=>a.userAccounts),{organizations:b=[]}=B(a=>a.organizations||{});c.useEffect(()=>{n(ee()),n(G())},[n]);const E=()=>{d("/admin/usuarios/nuevo")},U=a=>{d(`/admin/usuarios/editar/${a}`)},y=a=>{x(a),p(!0)},z=()=>{r&&(n(Me(r._id)),p(!1),x(null))},T=()=>{p(!1),x(null)},L=I?.filter(a=>a.firstName?.toLowerCase().includes(u.toLowerCase())||a.lastName?.toLowerCase().includes(u.toLowerCase())||a.email?.toLowerCase().includes(u.toLowerCase())||a.dni?.toLowerCase().includes(u.toLowerCase()))||[],k=a=>{if(!Array.isArray(b))return"-";const j=b.find(m=>m._id===a||a&&a.toString()===m._id?.toString());return j?j.name:"-"},C=a=>{if(!a||!a.length)return e.jsx(F,{color:"light",children:"Sin roles"});const j={USER:"Usuario",ADMIN:"Administrador",SUPER_ADMIN:"Super Admin"};return a.map((m,Z)=>{const M=j[m]||m;return e.jsx(F,{color:"primary",className:"me-1 mb-1",children:M},Z)})};return S?e.jsx("div",{className:"d-flex justify-content-center mt-5",children:e.jsx(P,{})}):D?e.jsxs("div",{className:"mt-3",children:[e.jsxs("h6",{className:"text-danger",children:["Error: ",D]}),e.jsx(h,{color:"primary",onClick:()=>n(ee()),children:"Reintentar"})]}):e.jsxs(c.Fragment,{children:[e.jsxs(X,{children:[e.jsx(J,{children:e.jsxs(N,{className:"align-items-center justify-content-between",children:[e.jsx(l,{children:e.jsx("h5",{className:"mb-0",children:"Administración de Usuarios"})}),e.jsx(l,{xs:"auto",children:e.jsxs(h,{color:"primary",onClick:E,children:[e.jsx(v,{icon:be,className:"me-2"}),"Nuevo Usuario"]})})]})}),e.jsxs(W,{children:[e.jsx(N,{className:"mb-3",children:e.jsx(l,{children:e.jsx(f,{placeholder:"Buscar por nombre, correo o DNI...",value:u,onChange:a=>t(a.target.value),text:!0,prefix:e.jsx(v,{icon:ye})})})}),e.jsxs(de,{hover:!0,responsive:!0,children:[e.jsx(me,{children:e.jsxs(H,{children:[e.jsx(w,{children:"Nombre"}),e.jsx(w,{children:"DNI"}),e.jsx(w,{children:"Correo"}),e.jsx(w,{children:"Organización"}),e.jsx(w,{children:"Roles"}),e.jsx(w,{children:"Acciones"})]})}),e.jsx(he,{children:L.length===0?e.jsx(H,{children:e.jsx(A,{colSpan:6,className:"text-center",children:"No se encontraron usuarios"})}):L.map(a=>e.jsxs(H,{children:[e.jsxs(A,{children:[a.firstName," ",a.lastName]}),e.jsxs(A,{children:[a.dniType," ",a.dni]}),e.jsx(A,{children:a.email}),e.jsx(A,{children:k(a.organizationId)}),e.jsx(A,{children:C(a.roles)}),e.jsxs(A,{children:[e.jsx(h,{color:"primary",size:"sm",variant:"ghost",onClick:()=>U(a._id),className:"me-2",children:e.jsx(v,{icon:Ne})}),e.jsx(h,{color:"danger",size:"sm",variant:"ghost",onClick:()=>y(a),children:e.jsx(v,{icon:ze})})]})]},a._id))})]})]})]}),e.jsxs(ue,{visible:i,onClose:T,"aria-labelledby":"delete-user-modal",alignment:"center",children:[e.jsx(xe,{closeButton:!0,children:e.jsx(je,{id:"delete-user-modal",children:"Confirmar eliminación"})}),e.jsx(ge,{children:r&&e.jsxs("p",{children:["¿Está seguro que desea eliminar la cuenta de usuario de ",e.jsxs("strong",{children:[r.firstName," ",r.lastName]}),"?",e.jsx("br",{}),"Esta acción no se puede deshacer."]})}),e.jsxs(pe,{children:[e.jsx(h,{color:"secondary",onClick:T,children:"Cancelar"}),e.jsx(h,{color:"danger",onClick:z,children:"Eliminar"})]})]})]})},le=()=>{const n=K(),d=Y(),{id:u}=ce(),t=!!u,[i,p]=c.useState({dniType:"CC",dni:"",firstName:"",lastName:"",email:"",password:"",roles:["USER"],phone:"",address:"",organizationId:"",birthdate:""}),[r,x]=c.useState({}),[I,S]=c.useState(!1),[D,b]=c.useState(!1),E=[{value:"USER",label:"Usuario"},{value:"ADMIN",label:"Administrador"},{value:"SUPER_ADMIN",label:"Super Administrador"}],U=[{value:"CC",label:"Cédula de Ciudadanía"},{value:"CE",label:"Cédula de Extranjería"},{value:"PA",label:"Pasaporte"},{value:"NIT",label:"NIT"}],{loading:y,error:z,selectedUserAccount:T}=B(s=>s.userAccounts),{organizations:L=[]}=B(s=>s.organizations||{});c.useEffect(()=>(n(G()),t&&n(Ve(u)),()=>{n(Pe())}),[n,u,t]),c.useEffect(()=>{if(t&&T){const s={...T};s.birthdate&&(s.birthdate=new Date(s.birthdate).toISOString().substring(0,10)),s.organization?(s.organizationId=s.organization._id||s.organization,delete s.organization):s.organizationId&&typeof s.organizationId=="object"&&(s.organizationId=s.organizationId._id),(!s.roles||!Array.isArray(s.roles))&&(s.roles=["USER"]),p(s)}else t||p(s=>({...s,password:ae()}))},[T,t]);const k=()=>{p({...i,password:ae()}),b(!1)},C=()=>{S(!I)},a=()=>{navigator.clipboard.writeText(i.password),b(!0),setTimeout(()=>b(!1),2e3)},j=s=>{const{name:o,value:O,checked:V}=s.target;p($=>{const Q=Array.isArray($[o])?$[o]:[];return V?{...$,[o]:[...Q,O]}:{...$,[o]:Q.filter(we=>we!==O)}})},m=s=>{const{name:o,value:O}=s.target;p({...i,[o]:O}),r[o]&&x({...r,[o]:null})},Z=()=>{const s={};i.firstName||(s.firstName="El nombre es obligatorio"),i.lastName||(s.lastName="El apellido es obligatorio"),i.dniType||(s.dniType="El tipo de documento es obligatorio"),i.dni||(s.dni="El número de documento es obligatorio"),i.email||(s.email="El correo electrónico es obligatorio"),!i.password&&!t&&(s.password="La contraseña es obligatoria para nuevos usuarios"),i.organizationId||(s.organizationId="La organización es obligatoria"),i.roles.length===0&&(s.roles="Debe seleccionar al menos un rol");const o=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return i.email&&!o.test(i.email)&&(s.email="El correo electrónico no es válido"),x(s),Object.keys(s).length===0},M=s=>{if(s.preventDefault(),!Z())return;const o={...i};o.birthdate&&(o.birthdate=new Date(o.birthdate)),o.organizationId&&typeof o.organizationId=="object"&&o.organizationId._id&&(o.organizationId=o.organizationId._id),(!o.roles||!Array.isArray(o.roles))&&(o.roles=["USER"]);const O=o.password;delete o.password,t&&(delete o._id,delete o.createdAt,delete o.__v,delete o.organizationId),t?n(_e({id:u,userAccount:o})).unwrap().then(()=>{if(O)return n(se({id:u,password:O})).unwrap()}).then(()=>{d("/admin/usuarios")}).catch(V=>{console.error("Error updating user:",V)}):n(Re(o)).unwrap().then(V=>{if(O)return n(se({id:V._id,password:O})).unwrap()}).then(()=>{d("/admin/usuarios")}).catch(V=>{console.error("Error creating user:",V)})},Ee=()=>{d("/admin/usuarios")};return e.jsxs(X,{children:[e.jsx(J,{children:e.jsx("h5",{children:t?"Editar Usuario":"Nuevo Usuario"})}),e.jsx(W,{children:y&&!i?e.jsx("div",{className:"d-flex justify-content-center",children:e.jsx(P,{})}):e.jsxs(Ce,{onSubmit:M,children:[z&&e.jsx(fe,{color:"danger",children:z}),e.jsx(N,{className:"mb-3",children:e.jsxs(l,{md:6,children:[e.jsx(g,{children:"Organización"}),e.jsxs(re,{id:"organizationId",name:"organizationId",value:i.organizationId||"",onChange:m,"aria-label":"Organization","aria-describedby":"organization-helper",invalid:!!r.organizationId,children:[e.jsx("option",{value:"",children:"Seleccione una organización"}),L.map(s=>e.jsx("option",{value:s._id,children:s.name},s._id))]}),r.organizationId&&e.jsx("div",{className:"text-danger",children:r.organizationId})]})}),e.jsxs(N,{className:"mb-3",children:[e.jsxs(l,{md:6,children:[e.jsx(g,{children:"Nombre"}),e.jsx(f,{type:"text",name:"firstName",value:i.firstName,onChange:m,invalid:!!r.firstName}),r.firstName&&e.jsx("div",{className:"text-danger",children:r.firstName})]}),e.jsxs(l,{md:6,children:[e.jsx(g,{children:"Apellido"}),e.jsx(f,{type:"text",name:"lastName",value:i.lastName,onChange:m,invalid:!!r.lastName}),r.lastName&&e.jsx("div",{className:"text-danger",children:r.lastName})]})]}),e.jsxs(N,{className:"mb-3",children:[e.jsxs(l,{md:3,children:[e.jsx(g,{children:"Tipo de documento"}),e.jsx(re,{name:"dniType",value:i.dniType,onChange:m,invalid:!!r.dniType,children:U.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))}),r.dniType&&e.jsx("div",{className:"text-danger",children:r.dniType})]}),e.jsxs(l,{md:3,children:[e.jsx(g,{children:"Número de documento"}),e.jsx(f,{type:"text",name:"dni",value:i.dni,onChange:m,invalid:!!r.dni}),r.dni&&e.jsx("div",{className:"text-danger",children:r.dni})]}),e.jsxs(l,{md:6,children:[e.jsx(g,{children:"Fecha de nacimiento"}),e.jsx(f,{type:"date",name:"birthdate",value:i.birthdate||"",onChange:m})]})]}),e.jsxs(N,{className:"mb-3",children:[e.jsxs(l,{md:6,children:[e.jsx(g,{children:"Teléfono"}),e.jsx(f,{type:"text",name:"phone",value:i.phone||"",onChange:m})]}),e.jsxs(l,{md:6,children:[e.jsx(g,{children:"Dirección"}),e.jsx(f,{type:"text",name:"address",value:i.address||"",onChange:m})]})]}),e.jsxs(N,{className:"mb-3",children:[e.jsxs(l,{md:6,children:[e.jsx(g,{children:"Correo electrónico"}),e.jsx(f,{type:"email",name:"email",value:i.email,onChange:m,invalid:!!r.email}),r.email&&e.jsx("div",{className:"text-danger",children:r.email})]}),e.jsxs(l,{md:6,children:[e.jsxs(g,{children:["Contraseña ",t&&"(Dejar vacío para no cambiar)"]}),e.jsxs(Be,{children:[e.jsx(f,{type:I?"text":"password",name:"password",value:i.password||"",onChange:m,invalid:!!r.password}),e.jsx(Ge,{onClick:C,role:"button",children:I?"Ocultar":"Mostrar"}),e.jsx(Ze,{content:"Generar nueva contraseña",placement:"top",children:e.jsx(h,{color:"secondary",onClick:k,children:e.jsx(v,{icon:aa})})}),e.jsx($e,{content:D?"Copiado!":"Copiar contraseña",placement:"top",children:e.jsx(h,{color:"secondary",onClick:a,children:e.jsx(v,{icon:Xe})})})]}),r.password&&e.jsx("div",{className:"text-danger",children:r.password})]})]}),e.jsx(N,{className:"mb-3",children:e.jsxs(l,{md:12,children:[e.jsx(g,{children:"Roles"}),e.jsx("div",{className:"d-flex gap-4",children:E.map(s=>e.jsx(qe,{id:`role-${s.value}`,name:"roles",value:s.value,label:s.label,checked:Array.isArray(i.roles)&&i.roles.includes(s.value),onChange:j},s.value))}),r.roles&&e.jsx("div",{className:"text-danger",children:r.roles})]})})]})}),e.jsxs(ve,{className:"d-flex justify-content-between",children:[e.jsxs(h,{color:"secondary",onClick:Ee,children:[e.jsx(v,{icon:We,className:"me-2"}),"Cancelar"]}),e.jsxs(h,{color:"primary",onClick:M,disabled:y,children:[y?e.jsx(P,{size:"sm",className:"me-2"}):null,t?"Actualizar":"Crear"," Usuario"]})]})]})},ua=()=>{const d=Fe().pathname;return e.jsx(Ke,{lg:!0,children:e.jsx(N,{className:"my-4",children:e.jsxs(l,{children:[e.jsx("h4",{className:"mb-3",children:"Administración"}),e.jsxs(Ye,{variant:"tabs",className:"mb-4",children:[e.jsx(ie,{children:e.jsx(oe,{component:ne,to:"/admin/organizaciones",active:d.includes("/organizaciones"),children:"Organizaciones"})}),e.jsx(ie,{children:e.jsx(oe,{component:ne,to:"/admin/usuarios",active:d.includes("/usuarios"),children:"Usuarios"})})]}),e.jsxs(He,{children:[e.jsx(_,{path:"organizaciones",element:e.jsx(na,{})}),e.jsx(_,{path:"organizaciones/nueva",element:e.jsx(te,{})}),e.jsx(_,{path:"organizaciones/editar/:id",element:e.jsx(te,{})}),e.jsx(_,{path:"usuarios",element:e.jsx(ra,{})}),e.jsx(_,{path:"usuarios/nuevo",element:e.jsx(le,{})}),e.jsx(_,{path:"usuarios/editar/:id",element:e.jsx(le,{})})]})]})})})};export{ua as default};
