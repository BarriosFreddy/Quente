{"version":3,"file":"static/js/982.a393e21e.chunk.js","mappings":"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","sources":["constants.js","hooks/useDidUpdate.js","modules/billing/services/billings.service.js","modules/billing/views/BillingForm.js","../node_modules/@coreui/icons/js/free/cil-trash.js","modules/billing/views/Payment.js","modules/billing/views/Billing.js","modules/shared/services/notification.service.js","utils/index.js"],"sourcesContent":["const CONSTANTS = {\n  ENTER_KEYCODE: 13,\n  TAB_KEYCODE: 9,\n  AVAILABLE_BILLS: [2000, 5000, 10000, 20000, 50000, 100000],\n}\n\nexport default CONSTANTS\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useRef } from 'react'\n\nexport const useDidUpdate = (callback, dependecies) => {\n  const mounted = useRef(false)\n\n  useEffect(() => {\n    if (mounted.current) {\n      return callback()\n    } else {\n      mounted.current = true\n    }\n  }, dependecies)\n}\n","import {\n  setSaveSuccess,\n  setBillings,\n  saveBillingLocally,\n  setLoading,\n} from '../reducers/billings.reducer'\nimport isOnline from 'is-online'\nlet isonline = false\n\nexport const saveBilling = (billing) => async (dispatch, getState, api) => {\n  isonline = await isOnline()\n  dispatch(setLoading(true))\n  const { status } = isonline\n    ? await api.post('/billings', billing)\n    : saveLocally(dispatch, getState(), billing)\n  status === 201 ? dispatch(setSaveSuccess(true)) : dispatch(setSaveSuccess(false))\n  dispatch(setLoading(false))\n}\n\nexport const saveBillingBulk = (billings) => async (dispatch, getState, api) => {\n  isonline = await isOnline()\n  dispatch(setLoading(true))\n  const { status } = await api.post('/billings/bulk', billings)\n  status === 201 ? dispatch(setSaveSuccess(true)) : dispatch(setSaveSuccess(false))\n  dispatch(setLoading(false))\n}\n\nexport const getBillings =\n  ({ page = 1 } = {}) =>\n  async (dispatch, getState, api) => {\n    isonline = await isOnline()\n    const { data, status } = isonline\n      ? await api.get(`/billings?page=${page}`)\n      : getLocally(dispatch, getState())\n    if (status === 200) dispatch(setBillings(data))\n  }\n\nexport const getBillingsGTDate = (date) => async (dispatch, _, api) => {\n  const { data, status } = await api.get(`/billings/per/${date}`)\n  if (status === 200) dispatch(setBillings(data))\n}\n\nfunction saveLocally(dispatch, state, billing) {\n  const { billings } = state.billing.offline\n  let billingsArray = []\n  if (Array.isArray(billings)) {\n    const arr = JSON.parse(JSON.stringify(billings))\n    billingsArray = [...billingsArray, ...arr]\n  }\n  billingsArray.unshift(billing)\n  dispatch(saveBillingLocally(billingsArray))\n  return { status: 201 }\n}\n\nfunction getLocally(dispatch, state) {\n  const billings = [state.billing.offline.billings]\n  if (billings.length > 10) billings.length = 10\n  dispatch(setBillings(billings))\n  return { data: billings, status: 200 }\n}\n","import React, { useCallback, useEffect, useRef, useState } from 'react'\nimport Quagga from 'quagga'\nimport { PropTypes } from 'prop-types'\n\nimport {\n  CModal,\n  CModalBody,\n  CModalFooter,\n  CModalHeader,\n  CModalTitle,\n  CRow,\n  CCol,\n  CContainer,\n  CButton,\n  CFormInput,\n  CInputGroup,\n  CTable,\n  CTableHead,\n  CTableRow,\n  CTableHeaderCell,\n  CTableBody,\n  CTableDataCell,\n} from '@coreui/react'\nimport { formatCurrency } from 'src/utils'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { setItems } from 'src/modules/billing/reducers/items.reducer'\nimport { getItems } from 'src/modules/billing/services/items.service'\nimport CONSTANTS from './../../../constants'\n\nconst { ENTER_KEYCODE, TAB_KEYCODE } = CONSTANTS\n\nconst BillingForm = (props) => {\n  const dispatch = useDispatch()\n  const items = useSelector((state) => state.items.items)\n  const [searchTerm, setSearchTerm] = useState('')\n  const [modal, setModal] = useState(false)\n  const toggle = () => setModal(!modal)\n  const searchTermInput = useRef()\n\n  const clear = useCallback(() => {\n    dispatch(setItems([]))\n    setSearchTerm('')\n    searchTermInput.current.focus()\n  }, [dispatch])\n\n  useEffect(() => {\n    clear()\n  }, [clear])\n\n  const onChangeField = ({ target: { value } }) => {\n    setSearchTerm(value)\n    search(value)\n  }\n\n  const onKeyDownCodeField = async ({ keyCode }) => {\n    if ([ENTER_KEYCODE, TAB_KEYCODE].includes(keyCode)) {\n      search()\n      setTimeout(() => {\n        if (items.length > 0) addItem(items[0])\n      }, 500)\n    }\n  }\n\n  const search = async (term) => {\n    const termToSearch = term ?? searchTerm\n    if (!!termToSearch) {\n      dispatch(getItems({ code: termToSearch, name: termToSearch, page: 1 }))\n    }\n  }\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  // eslint-disable-next-line no-unused-vars\n  const scanItem = () => {\n    toggle()\n    setTimeout(() => {\n      Quagga.init(\n        {\n          inputStream: {\n            name: 'Live',\n            type: 'LiveStream',\n            constraints: {\n              width: 320,\n              height: 380,\n              facingMode: 'environment',\n            },\n            target: document.querySelector('#reader'), // Or '#yourElement' (optional)\n          },\n          decoder: {\n            readers: [\n              'ean_reader',\n              /* {\n                format: 'ean_reader',\n                config: {\n                  supplements: ['ean_13_reader'],\n                }, \n              }, */\n              'code_128_reader',\n            ],\n          },\n        },\n        function (err) {\n          if (err) {\n            console.log(err)\n            return\n          }\n          console.log('Ready to start')\n          Quagga.start()\n        },\n      )\n      Quagga.onDetected(({ codeResult: { code } }) => {\n        console.log({ code })\n        setModal(false)\n        Quagga.stop()\n      })\n      Quagga.onProcessed((result) => {\n        /* const drawingCanvas = Quagga.canvas.dom.overlay\n        drawingCanvas.style.display = 'none' */\n      })\n    }, 300)\n  }\n\n  const addItem = (item) => {\n    props.addItem(item)\n    clear()\n  }\n\n  return (\n    <>\n      <CContainer fluid>\n        <CRow>\n          <CCol>\n            <CInputGroup>\n              <CFormInput\n                ref={searchTermInput}\n                type=\"text\"\n                name=\"searchTerm\"\n                placeholder=\"Buscar\"\n                value={searchTerm}\n                onChange={(event) => onChangeField(event)}\n                onKeyDown={(event) => onKeyDownCodeField(event)}\n              />\n              <CButton variant=\"outline\" type=\"button\" color=\"secondary\" onClick={clear}>\n                BORRAR\n              </CButton>\n            </CInputGroup>\n          </CCol>\n        </CRow>\n        <CRow>\n          <CCol>\n            <CTable hover>\n              <CTableHead>\n                <CTableRow>\n                  <CTableHeaderCell>Nombre</CTableHeaderCell>\n                  <CTableHeaderCell>Precio</CTableHeaderCell>\n                </CTableRow>\n              </CTableHead>\n              <CTableBody>\n                {items.map((item) => (\n                  <CTableRow\n                    key={item.code}\n                    onClick={() => addItem(item)}\n                    style={{ cursor: 'pointer' }}\n                  >\n                    <CTableDataCell xs=\"12\">\n                      <CRow>\n                        <CCol className=\"text-uppercase\">{item.name}</CCol>\n                      </CRow>\n                      <CRow>\n                        <CCol style={{ fontSize: 10 }}>{item.code}</CCol>\n                      </CRow>\n                    </CTableDataCell>\n                    <CTableDataCell className=\"text-break\">\n                      {formatCurrency(item.price)}\n                    </CTableDataCell>\n                  </CTableRow>\n                ))}\n              </CTableBody>\n            </CTable>\n          </CCol>\n        </CRow>\n      </CContainer>\n      <CModal visible={modal} onClose={() => setModal(false)}>\n        <CModalHeader>\n          <CModalTitle>Scanning</CModalTitle>\n        </CModalHeader>\n        <CModalBody>\n          <div id=\"reader\" width=\"600px\" style={{ maxWidth: '750px' }}></div>\n        </CModalBody>\n        <CModalFooter>\n          <CButton Ccolor=\"secondary\" onClick={() => setModal(false)}>\n            Close\n          </CButton>\n        </CModalFooter>\n      </CModal>\n    </>\n  )\n}\n\nexport default BillingForm\n\nBillingForm.propTypes = {\n  addItem: PropTypes.func.isRequired,\n}\n","export const cilTrash = [\"512 512\",\"<path fill='var(--ci-primary-color, currentColor)' d='M96,472a23.82,23.82,0,0,0,23.579,24H392.421A23.82,23.82,0,0,0,416,472V152H96Zm32-288H384V464H128Z' class='ci-primary'/><rect width='32' height='200' x='168' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='200' x='240' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='200' x='312' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M328,88V40c0-13.458-9.488-24-21.6-24H205.6C193.488,16,184,26.542,184,40V88H64v32H448V88ZM216,48h80V88H216Z' class='ci-primary'/>\"]","import React, { useEffect, useRef, useState } from 'react'\nimport { PropTypes } from 'prop-types'\n\nimport { CRow, CCol, CContainer, CFormInput, CCard, CCardBody } from '@coreui/react'\nimport { formatCurrency } from './../../../utils'\nimport CONSTANTS from './../../../constants'\n\nconst { ENTER_KEYCODE, TAB_KEYCODE } = CONSTANTS\n\nconst PaymentComp = (props) => {\n  const [receivedAmount, setReceivedAmount] = useState(0)\n  const [receivedAmountInvalid, setReceivedAmountInvalid] = useState(false)\n  const [changeAmount, setChangeAmount] = useState(0)\n  const receivedAmountInput = useRef()\n\n  useEffect(() => {\n    receivedAmountInput.current.focus()\n    receivedAmountInput.current.select()\n  }, [])\n\n  const onChangeField = ({ target: { value } }) => {\n    setReceivedAmount(value)\n    props.setReceivedAmount(value)\n    calculateAmountChange(value)\n  }\n\n  const handleReceivedAmount = (amount) => {\n    setReceivedAmount(amount)\n    props.setReceivedAmount(amount)\n    calculateAmountChange(amount)\n  }\n\n  const onKeyDownCodeField = async ({ keyCode }) => {\n    if ([ENTER_KEYCODE, TAB_KEYCODE].includes(keyCode)) calculateAmountChange()\n  }\n\n  const calculateAmountChange = (received) => {\n    const receivedMoney = received ?? receivedAmount\n    setReceivedAmountInvalid(receivedMoney < props.total)\n    setChangeAmount(receivedMoney - props.total)\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  const clear = () => {\n    setReceivedAmount(0)\n    setChangeAmount(0)\n  }\n\n  return (\n    <>\n      <CContainer fluid>\n        <CRow>\n          {CONSTANTS.AVAILABLE_BILLS.map((amount) => (\n            <CCol lg=\"6\" key={amount} className=\"mt-2\" style={{ cursor: 'pointer' }}>\n              <CCard onClick={() => handleReceivedAmount(amount)}>\n                <CCardBody>\n                  <h4 className=\"text-center\">{formatCurrency(amount)}</h4>\n                </CCardBody>\n              </CCard>\n            </CCol>\n          ))}\n        </CRow>\n        <CRow className=\"mt-4\">\n          <CCol lg=\"4\">\n            <h5>RECIBIDO</h5>\n          </CCol>\n          <CCol lg=\"8\">\n            <CFormInput\n              ref={receivedAmountInput}\n              data-testid=\"receivedAmountId\"\n              type=\"number\"\n              size=\"lg\"\n              name=\"receivedAmount\"\n              feedbackInvalid=\"El monto recibido no debe ser menor al total\"\n              invalid={receivedAmountInvalid}\n              value={receivedAmount}\n              onChange={(event) => onChangeField(event)}\n              onKeyDown={(event) => onKeyDownCodeField(event)}\n            />\n          </CCol>\n        </CRow>\n        <CRow className=\"mt-4\">\n          <CCol lg=\"4\">\n            <h5>CAMBIO</h5>\n          </CCol>\n          <CCol lg=\"8\" className=\"align-self-end\">\n            <span className=\"fs-3\">{formatCurrency(changeAmount)}</span>\n          </CCol>\n        </CRow>\n      </CContainer>\n    </>\n  )\n}\n\nexport default PaymentComp\n\nPaymentComp.propTypes = {\n  total: PropTypes.number,\n  setReceivedAmount: PropTypes.func,\n}\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCol,\n  CContainer,\n  CFormInput,\n  CRow,\n  CTable,\n  CTableBody,\n  CTableDataCell,\n  CTableHead,\n  CTableHeaderCell,\n  CTableRow,\n} from '@coreui/react'\nimport BillingForm from './BillingForm'\nimport { formatCurrency } from 'src/utils'\nimport CIcon from '@coreui/icons-react'\nimport { cilTrash } from '@coreui/icons'\nimport PaymentComp from './Payment'\nimport { saveBilling } from '../../../modules/billing/services/billings.service'\nimport { setShowHeader, setShowToast, setSidebarUnfoldable, setToastConfig } from 'src/app.slice'\nimport { setSaveSuccess } from '../reducers/billings.reducer'\nimport { Helmet } from 'react-helmet'\nimport { useDidUpdate } from 'src/hooks/useDidUpdate'\nimport { sendToast } from '../../shared/services/notification.service'\n\nfunction Billing() {\n  const saveSuccess = useSelector((state) => state.billing.saveSuccess)\n\n  const dispatch = useDispatch()\n  let [items, setItems] = useState([])\n  let [receivedAmount, setReceivedAmount] = useState(0)\n  let [total, setTotal] = useState(0)\n  let [itemUnits, setItemUnits] = useState({})\n  let [paying, setPaying] = useState(false)\n  const isReceivedLTTotal = receivedAmount < total\n  const hasNotItems = items.length <= 0\n\n  useEffect(() => {\n    dispatch(setShowHeader(false))\n    dispatch(setSidebarUnfoldable(true))\n    return () => {\n      dispatch(setShowHeader(true))\n    }\n  }, [dispatch])\n\n  useDidUpdate(() => {\n    setItems([])\n    setReceivedAmount(0)\n    setTotal(0)\n    setItemUnits({})\n    sendToast(dispatch, { message: 'Guardado exitosamente!' })\n    dispatch(setSaveSuccess(false))\n  }, [saveSuccess])\n\n  const addItem = async (item) => {\n    let itemUnitsAdded = {}\n    isAdded(item.code)\n      ? (itemUnitsAdded[item.code] = itemUnits[item.code] + 1)\n      : (itemUnitsAdded[item.code] = 1)\n    itemUnitsAdded = { ...itemUnits, ...itemUnitsAdded }\n    setItemUnits(itemUnitsAdded)\n    const itemsAdded = [...items]\n    if (!isAdded(item.code)) itemsAdded.unshift(item)\n    setItems(itemsAdded)\n    calculateTotal(itemsAdded, itemUnitsAdded)\n  }\n\n  const isAdded = (itemCode) => items.some(({ code }) => code === itemCode)\n\n  const calculateTotal = (itemsAdded, itemUnitsAdded) => {\n    const totalAmount = itemsAdded\n      .map(({ price, code }) => price * itemUnitsAdded[code])\n      .reduce((acc, value) => +acc + +value, 0)\n    setTotal(totalAmount)\n  }\n\n  const deleteItem = (code) => {\n    const itemsArray = Object.assign([], items)\n    const itemUnitsAddedArray = Object.assign([], itemUnits)\n    const itemIndex = itemsArray.findIndex((item) => item.code === code)\n    delete itemUnitsAddedArray[code]\n    if (itemIndex !== -1) itemsArray.splice(itemIndex, 1)\n    setItems(itemsArray)\n    setItemUnits(itemUnitsAddedArray)\n    calculateTotal(itemsArray, itemUnitsAddedArray)\n  }\n\n  const onChangeField = ({ target: { name, value } }) => {\n    const itemUnitsAdded = { ...itemUnits, [name]: value }\n    setItemUnits(itemUnitsAdded)\n    calculateTotal(items, itemUnitsAdded)\n  }\n\n  const handleCharge = () => {\n    setPaying(true)\n  }\n\n  const handleSave = async () => {\n    if (isReceivedLTTotal) {\n      dispatch(\n        setToastConfig({\n          message: 'Revisa el monto recibido y el total',\n          color: 'warning',\n        }),\n      )\n      dispatch(setShowToast(true))\n      return\n    }\n    if (hasNotItems) {\n      dispatch(\n        setToastConfig({\n          message: 'No hay productos por facturar',\n          color: 'warning',\n        }),\n      )\n      dispatch(setShowToast(true))\n      return\n    }\n    dispatch(\n      saveBilling({\n        receivedAmount,\n        billAmount: total,\n        items: getItemsData(items),\n      }),\n    )\n    setPaying(false)\n  }\n\n  const getItemsData = () =>\n    items.map(({ _id, name, code, price, measurementUnit }) => ({\n      _id,\n      name,\n      code,\n      price,\n      units: itemUnits[code],\n      measurementUnit,\n    }))\n\n  const hanndleReceivedAmount = (receivedAmount) => setReceivedAmount(receivedAmount)\n  return (\n    <>\n      <CContainer className=\"mt-3\" fluid>\n        <Helmet>\n          <title>Billing</title>\n        </Helmet>\n        <CRow>\n          <CCol lg=\"5\">\n            <CCard className=\"shadow border-10\" style={{ height: '78vh' }}>\n              <CCardBody style={{ overflow: 'auto' }}>\n                <CTable hover>\n                  <CTableHead>\n                    <CTableRow>\n                      <CTableHeaderCell>Producto</CTableHeaderCell>\n                      <CTableHeaderCell>Cantidad</CTableHeaderCell>\n                      <CTableHeaderCell>Subtotal</CTableHeaderCell>\n                      <CTableHeaderCell>&nbsp;</CTableHeaderCell>\n                    </CTableRow>\n                  </CTableHead>\n                  <CTableBody>\n                    {items.map(({ code, name, price }) => (\n                      <CTableRow key={code}>\n                        <CTableDataCell xs=\"12\">\n                          <CRow>\n                            <CCol className=\"text-uppercase\">{name}</CCol>\n                          </CRow>\n                          <CRow>\n                            <CCol style={{ fontSize: 10 }}>{code}</CCol>\n                          </CRow>\n                        </CTableDataCell>\n                        <CTableDataCell colSpan={1}>\n                          <CFormInput\n                            style={{ maxWidth: 60 }}\n                            type=\"number\"\n                            min={1}\n                            formNoValidate\n                            size=\"sm\"\n                            name={code}\n                            value={itemUnits[code]}\n                            onChange={(event) => onChangeField(event)}\n                          />\n                        </CTableDataCell>\n                        <CTableDataCell xs=\"12\" className=\"text-break\">\n                          {formatCurrency(price * itemUnits[code])}\n                        </CTableDataCell>\n                        <CTableDataCell>\n                          <CButton size=\"sm\" color=\"ligth\" onClick={() => deleteItem(code)}>\n                            <CIcon icon={cilTrash} size=\"sm\" />\n                          </CButton>\n                        </CTableDataCell>\n                      </CTableRow>\n                    ))}\n                  </CTableBody>\n                </CTable>\n              </CCardBody>\n            </CCard>\n          </CCol>\n          <CCol lg=\"7\">\n            <CCard className=\"shadow border-10\" style={{ height: '78vh', overflowY: 'auto' }}>\n              <CCardBody>\n                {!paying && <BillingForm addItem={addItem} />}\n                {paying && <PaymentComp setReceivedAmount={hanndleReceivedAmount} total={total} />}\n              </CCardBody>\n            </CCard>\n          </CCol>\n        </CRow>\n        <CRow className=\"mt-3 align-items-end\">\n          <CCard className=\"shadow border-10\">\n            <CCardBody>\n              <CRow className=\"mt-3\">\n                <CCol lg=\"5\">\n                  <div className=\"d-grid gap-2\">\n                    <CButton\n                      type=\"button\"\n                      size=\"lg\"\n                      color={paying ? 'success' : 'primary'}\n                      onClick={paying ? handleSave : handleCharge}\n                      disabled={paying ? isReceivedLTTotal : hasNotItems}\n                    >\n                      {paying ? 'FACTURAR' : 'COBRAR'}\n                    </CButton>\n                  </div>\n                </CCol>\n                <CCol lg=\"6\" className=\"fs-1\">\n                  <span>POR COBRAR</span>&nbsp;\n                  {formatCurrency(total)}\n                </CCol>\n              </CRow>\n            </CCardBody>\n          </CCard>\n        </CRow>\n      </CContainer>\n    </>\n  )\n}\n\nexport default Billing\n","import { setShowToast, setToastConfig } from 'src/app.slice'\n\nexport const sendToast = (dispatch, { message, color = 'success', delay = 2000 }) => {\n  if (!message) console.error('Toast notification must have a message')\n  dispatch(\n    setToastConfig({\n      message,\n      color,\n      delay,\n    }),\n  )\n  dispatch(setShowToast(true))\n}\n","import dayjs from 'dayjs'\n\nexport const formatCurrency = (amount) => {\n  return Number.isInteger(amount) && amount >= 0\n    ? new Intl.NumberFormat('es-CO', {\n        style: 'currency',\n        currency: 'COP',\n        maximumFractionDigits: 0,\n      }).format(amount)\n    : amount\n}\n\nexport const formatDate = (dateAsString, format = 'DD-MM-YYYY hh:mm a') => {\n  return dayjs(dateAsString).format(format)\n}\n"],"names":["ENTER_KEYCODE","TAB_KEYCODE","AVAILABLE_BILLS","useDidUpdate","callback","dependecies","mounted","useRef","useEffect","current","isonline","saveBilling","billing","dispatch","getState","api","isOnline","setLoading","post","saveLocally","status","setSaveSuccess","saveBillingBulk","billings","getBillings","page","get","getLocally","data","setBillings","getBillingsGTDate","date","_","state","offline","billingsArray","Array","isArray","arr","JSON","parse","stringify","unshift","saveBillingLocally","length","CONSTANTS","props","useDispatch","items","useSelector","useState","searchTerm","setSearchTerm","modal","setModal","searchTermInput","clear","useCallback","setItems","focus","onKeyDownCodeField","keyCode","includes","search","setTimeout","addItem","term","termToSearch","getItems","code","name","item","fluid","ref","type","placeholder","value","onChange","event","target","onChangeField","onKeyDown","variant","color","onClick","hover","map","style","cursor","xs","className","fontSize","formatCurrency","price","visible","onClose","id","width","maxWidth","Ccolor","cilTrash","receivedAmount","setReceivedAmount","receivedAmountInvalid","setReceivedAmountInvalid","changeAmount","setChangeAmount","receivedAmountInput","select","calculateAmountChange","received","receivedMoney","total","amount","lg","handleReceivedAmount","size","feedbackInvalid","invalid","saveSuccess","setTotal","itemUnits","setItemUnits","paying","setPaying","isReceivedLTTotal","hasNotItems","setShowHeader","setSidebarUnfoldable","sendToast","message","itemUnitsAdded","isAdded","itemsAdded","calculateTotal","itemCode","some","totalAmount","reduce","acc","handleSave","setToastConfig","setShowToast","billAmount","getItemsData","_id","measurementUnit","units","Helmet","height","overflow","colSpan","min","formNoValidate","itemsArray","Object","assign","itemUnitsAddedArray","itemIndex","findIndex","splice","deleteItem","icon","overflowY","Payment","disabled","delay","console","error","Number","isInteger","Intl","NumberFormat","currency","maximumFractionDigits","format","formatDate","dateAsString","dayjs"],"sourceRoot":""}