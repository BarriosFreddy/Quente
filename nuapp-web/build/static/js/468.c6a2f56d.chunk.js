"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[468],{81539:function(e,n,r){var t=r(29439),c=r(72791),i=r(78983),s=r(80184),a=(0,c.forwardRef)((function(e,n){var r=e.message,a=e.onResponse,o=(0,c.useState)(!1),u=(0,t.Z)(o,2),l=u[0],d=u[1],f=function(e){a&&a(e)};return(0,c.useImperativeHandle)(n,(function(){return{show:function(e){d(e)}}}),[]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(i.Tk,{visible:l,onClose:function(){return d(!1)},children:[(0,s.jsx)(i.p0,{onClose:function(){return d(!1)},children:(0,s.jsx)(i.fl,{children:"Confirmaci\xf3n"})}),(0,s.jsx)(i.sD,{children:r}),(0,s.jsxs)(i.Ym,{children:[(0,s.jsx)(i.u5,{style:{width:50},variant:"outline",color:"secondary",onClick:function(){return f(!0)},children:"SI"}),(0,s.jsx)(i.u5,{style:{width:50},color:"primary",onClick:function(){return f(!1)},children:"NO"})]})]})})}));n.Z=a},83708:function(e,n){n.Z={ENTER_KEYCODE:13,TAB_KEYCODE:9,AVAILABLE_BILLS:[2e3,5e3,1e4,2e4,5e4,1e5]}},46252:function(e,n,r){r.d(n,{M3:function(){return o},YX:function(){return l},jW:function(){return u},u0:function(){return a}});var t=r(1413),c=r(74165),i=r(15861),s=r(64708),a=function(e){return function(){var n=(0,i.Z)((0,c.Z)().mark((function n(r,t,i){var a;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.post("/item-categories",e);case 2:a=n.sent,201===a.status?(r((0,s.gc)(!0)),r(u({page:1}))):r((0,s.gc)(!1));case 5:case"end":return n.stop()}}),n)})));return function(e,r,t){return n.apply(this,arguments)}}()},o=function(e){return function(){var n=(0,i.Z)((0,c.Z)().mark((function n(r,i,a){var o,l,d;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=(0,t.Z)({},e),l=o._id,delete o._id,n.next=5,a.put("/item-categories/".concat(l),o);case 5:d=n.sent,201===d.status?(r((0,s.gc)(!0)),r(u({page:1}))):r((0,s.gc)(!1));case 8:case"end":return n.stop()}}),n)})));return function(e,r,t){return n.apply(this,arguments)}}()},u=function(e){return function(){var n=(0,i.Z)((0,c.Z)().mark((function n(r,t,i){var a,o,u;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=new URLSearchParams(e).toString(),n.next=3,i.get("/item-categories".concat(a.length>0?"?"+a:""));case 3:o=n.sent,u=o.data,200===o.status&&r((0,s.JD)(u));case 7:case"end":return n.stop()}}),n)})));return function(e,r,t){return n.apply(this,arguments)}}()},l=function(e){return function(){var n=(0,i.Z)((0,c.Z)().mark((function n(r,t,i){var a,o;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,i.get("/item-categories/code/".concat(e));case 4:a=n.sent,o=a.data,200===a.status&&r((0,s.QZ)(o));case 8:case"end":return n.stop()}}),n)})));return function(e,r,t){return n.apply(this,arguments)}}()}},68468:function(e,n,r){r.r(n),r.d(n,{default:function(){return C}});var t=r(74165),c=r(15861),i=r(29439),s=r(72791),a=r(78983),o=r(4942),u=r(1413),l=r(81539),d=r(59434),f=r(46252),x=r(64708),h=r(80184),p={code:"",name:"",description:""},j={code:!1,name:!1,description:!1};var m=function(e){var n,r=(0,d.I0)(),m=(0,s.useRef)(),v=(0,d.v9)((function(e){return e.itemCategories.isCodeRegistered})),g=(0,s.useState)(p),Z=(0,i.Z)(g,2),b=Z[0],C=Z[1],y=(0,s.useState)(j),k=(0,i.Z)(y,2),w=k[0],N=k[1],E=null===(n=e.itemCategory)||void 0===n?void 0:n.code;(0,s.useEffect)((function(){e.itemCategory&&C(e.itemCategory)}),[e.itemCategory]);var R=function(n){var t,c=n.target,i=c.name,s=c.value;C((0,u.Z)((0,u.Z)({},b),{},(0,o.Z)({},i,s))),N((0,u.Z)((0,u.Z)({},w),{},(0,o.Z)({},i,!s))),"code"===i&&(t=s,e.itemCategory&&E!==t&&r((0,f.YX)(t)))},_=function(){C(p),r((0,x.QZ)(!1)),N(j)},A=function(){var e=(0,u.Z)({},b),n=e.code,r=e.name,t=e.description,c=(0,u.Z)({},w);return c.code=!n||v,c.name=!r,c.description=!t,N(c),Object.values(c).every((function(e){return!1===e}))},S=function(){var n=(0,c.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:A()&&(e.onSave((0,u.Z)({},b)),_());case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(a.KB,{fluid:!0,children:(0,h.jsxs)(a.lx,{className:"row g-3 needs-validation",noValidate:!0,children:[(0,h.jsxs)(a.rb,{className:"mt-2",children:[(0,h.jsx)(a.b7,{xs:"12",lg:"4",children:(0,h.jsx)(a.jO,{label:"C\xf3digo",type:"text",name:"code",value:b.code,feedback:v?"El c\xf3digo ya se encuentra registrado":"Campo obligatorio",invalid:v||w.code,required:!0,onChange:function(e){return R(e)}})}),(0,h.jsx)(a.b7,{xs:"12",lg:"4",children:(0,h.jsx)(a.jO,{label:"Nombre",type:"text",name:"name",value:b.name,feedbackInvalid:"Campo obligatorio",invalid:w.name,required:!0,onChange:function(e){return R(e)}})}),(0,h.jsx)(a.b7,{xs:"12",lg:"4",children:(0,h.jsx)(a.jO,{label:"Descripci\xf3n",type:"text",name:"description",value:b.description,feedbackInvalid:"Campo obligatorio",invalid:w.description,required:!0,onChange:function(e){return R(e)}})})]}),(0,h.jsx)(a.rb,{className:"mt-4",children:(0,h.jsxs)(a.b7,{className:"text-center",xs:"8",lg:{offset:4,span:4},children:[(0,h.jsx)(a.u5,{color:"success",type:"button",onClick:function(){return S()},children:e.itemCategory?"EDITAR":"GUARDAR"}),"\xa0 \xa0",(0,h.jsx)(a.u5,{color:"light",onClick:function(){m.current.show(!0)},children:"CANCELAR"})]})})]})}),(0,h.jsx)(l.Z,{ref:m,onResponse:function(n){n&&e.onCancel(),n||(m.current.show(!1),_())},message:"\xbfEst\xe1s seguro que quieres cancelar?"})]})},v=r(83708),g=r(54270),Z=v.Z.ENTER_KEYCODE,b=v.Z.TAB_KEYCODE;var C=function(){var e=(0,d.I0)(),n=(0,d.v9)((function(e){return e.itemCategories.itemCategories})),r=(0,s.useState)(""),o=(0,i.Z)(r,2),u=o[0],l=o[1],x=(0,s.useState)(null),p=(0,i.Z)(x,2),j=p[0],v=p[1],C=(0,s.useState)(!1),y=(0,i.Z)(C,2),k=y[0],w=y[1],N=(0,s.useState)(1),E=(0,i.Z)(N,2),R=E[0],_=E[1];(0,s.useEffect)((function(){l(""),e((0,f.jW)())}),[e]);var A=function(){var n=(0,c.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e((0,f.jW)({page:1})),w(!1);case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),S=function(){var n=(0,c.Z)((0,t.Z)().mark((function n(){var r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:_(r=R+1),e((0,f.jW)({page:r}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),I=function(){var n=(0,c.Z)((0,t.Z)().mark((function n(){var r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:_(r=1===R?1:R-1),e((0,f.jW)({page:r}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),T=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.keyCode,[Z,b].includes(r)&&O();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),O=function(){var n=(0,c.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!u){n.next=3;break}return e((0,f.jW)({code:u.trim(),name:u.trim(),page:1})),n.abrupt("return");case 3:e((0,f.jW)({page:1}));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(a.KB,{className:"mt-6",fluid:!0,children:(0,h.jsxs)(a.xH,{className:"mt-6 shadow border-10",children:[(0,h.jsxs)(a.bn,{children:[(0,h.jsx)(g.q,{children:(0,h.jsx)("title",{children:"CATEGORIA DE ITEMS"})}),(0,h.jsx)(a.tj,{children:"CATEGORIA DE ITEMS"})]}),(0,h.jsxs)(a.sl,{children:[!k&&(0,h.jsxs)(a.rb,{children:[(0,h.jsx)(a.b7,{xs:"4",lg:"3",children:(0,h.jsx)(a.u5,{variant:"outline",color:"success",onClick:function(){w(!0),v(null)},children:"NUEVA CATEGORIA"})}),(0,h.jsx)(a.b7,{lg:"5",children:(0,h.jsxs)(a.YR,{children:[(0,h.jsx)(a.jO,{type:"text",name:"searchTerm",placeholder:"...",value:u,onChange:function(e){return function(e){var n=e.target.value;l(n)}(e)},onKeyDown:function(e){return T(e)}}),(0,h.jsx)(a.u5,{type:"button",variant:"outline",color:"primary",onClick:O,children:"BUSCAR"}),(0,h.jsx)(a.u5,{variant:"outline",type:"button",color:"secondary",onClick:function(){l(""),e((0,f.jW)({page:1}))},children:"BORRAR"})]})})]}),!k&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"d-lg-none",children:n&&n.map((function(e){var n=e._id,r=e.code,t=e.name,c=e.description;return(0,h.jsx)(a.xH,{style:{width:"auto"},children:(0,h.jsx)(a.rb,{className:"g-0",children:(0,h.jsx)(a.b7,{xs:12,children:(0,h.jsxs)(a.sl,{children:[(0,h.jsx)(a.rb,{children:(0,h.jsx)(a.b7,{children:r})}),(0,h.jsx)(a.rb,{children:(0,h.jsx)(a.b7,{children:t})}),(0,h.jsx)(a.rb,{children:(0,h.jsx)(a.b7,{children:c})})]})})})},n)}))}),(0,h.jsx)("div",{className:"d-none d-lg-block",children:(0,h.jsxs)(a.Sx,{children:[(0,h.jsx)(a.V,{children:(0,h.jsxs)(a.T6,{children:[(0,h.jsx)(a.is,{children:"C\xf3digo"}),(0,h.jsx)(a.is,{children:"Nombre"}),(0,h.jsx)(a.is,{children:"Descripci\xf3n"}),(0,h.jsx)(a.is,{children:"\xa0"})]})}),(0,h.jsx)(a.NR,{children:n&&n.map((function(e){return(0,h.jsxs)(a.T6,{children:[(0,h.jsx)(a.NN,{xs:"12",className:"text-uppercase",children:e.code}),(0,h.jsx)(a.NN,{className:"fs-6",xs:"12",children:e.name}),(0,h.jsx)(a.NN,{xs:"12",className:"text-break",children:e.description}),(0,h.jsx)(a.NN,{xs:"12",children:(0,h.jsx)(a.u5,{size:"sm",variant:"outline",color:"info",onClick:function(){return function(e){w(!0),v(e)}(e)},children:"Editar"})})]},e._id)}))})]})}),(0,h.jsx)(a.Bt,{className:"py-4",children:(0,h.jsxs)(a.rb,{children:[(0,h.jsx)(a.b7,{children:(0,h.jsx)("div",{className:"d-grid col-12 mx-auto",children:(0,h.jsx)(a.u5,{type:"button",variant:"outline",color:"secondary",onClick:I,children:"ANTERIOR"})})}),(0,h.jsx)(a.b7,{children:(0,h.jsx)("div",{className:"d-grid col-12 mx-auto",children:(0,h.jsx)(a.u5,{type:"button",variant:"outline",color:"secondary",onClick:S,children:"SIGUIENTE"})})})]})})]}),k&&(0,h.jsx)(m,{itemCategory:j,onSave:function(n){n._id?e((0,f.M3)(n)):e((0,f.u0)(n)),v(null),w(!1)},onCancel:A})]})]})})})}}}]);
//# sourceMappingURL=468.c6a2f56d.chunk.js.map