"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[873],{56550:function(e,n,t){t.r(n),t.d(n,{default:function(){return ee}});var r=t(72791),s=(0,r.lazy)((function(){return t.e(453).then(t.bind(t,4453))})),a=(0,r.lazy)((function(){return Promise.all([t.e(375),t.e(173)]).then(t.bind(t,28173))})),i=(0,r.lazy)((function(){return Promise.all([t.e(325),t.e(716),t.e(982)]).then(t.bind(t,51982))})),o=(0,r.lazy)((function(){return t.e(296).then(t.bind(t,30296))})),c=(0,r.lazy)((function(){return Promise.all([t.e(325),t.e(270)]).then(t.bind(t,40601))})),l=(0,r.lazy)((function(){return t.e(468).then(t.bind(t,68468))})),u=[{path:"/",exact:!0,name:"Home"},{path:"/home",name:"Home",element:s},{path:"/billing",name:"Facturaci\xf3n",element:i},{path:"/billings",name:"Historial de facturas",element:o},{path:"/billing/dashboard",name:"Dashboard",element:a},{path:"/billing/items",name:"Items",element:c},{path:"/billing/data-loader",name:"Cargador de datos",element:(0,r.lazy)((function(){return t.e(930).then(t.bind(t,61930))}))},{path:"/billing/item-categories",name:"Categorias de items",element:l},{path:"/billing/synchronizer",name:"Sinchronizer",element:(0,r.lazy)((function(){return Promise.all([t.e(716),t.e(775)]).then(t.bind(t,74775))}))}],m=t(78983),d=t(80184),f=t(57689),h=t(59434),x=function(e){var n=e.children,t=e.isLoggedIn,r=e.redirectTo,s=void 0===r?"/login":r;return t?n:(0,d.jsx)(f.Fg,{to:s,replace:!0})},p=function(){var e=(0,h.v9)((function(e){return e.auth.isLoggedIn}));return(0,d.jsx)(r.Suspense,{fallback:(0,d.jsx)(m.LQ,{color:"primary"}),children:(0,d.jsxs)(f.Z5,{children:[u.map((function(n,t){return n.element&&(0,d.jsx)(f.AW,{path:n.path,exact:n.exact,name:n.name,element:(0,d.jsx)(x,{isLoggedIn:e,children:(0,d.jsx)(n.element,{})})},t)})),(0,d.jsx)(f.AW,{render:!0,path:"/",element:(0,d.jsx)(f.Fg,{to:"home",replace:!0})})]})})},j=r.memo(p),g=t(24846),v=t(31389),b=t(62412),N=t(1883),Z=t(31493),C=t(19033),k=t(7476),y=t(65487),w=t(41048),_=t(3078),S=t(63232),I=t(90406),U=function(){var e=(0,h.I0)();return(0,d.jsxs)(m.w5,{variant:"nav-item",children:[(0,d.jsx)(m.SQ,{placement:"bottom-end",className:"py-0",caret:!1,children:(0,d.jsx)(g.Z,{icon:b.E,className:"me-2"})}),(0,d.jsxs)(m.$H,{className:"pt-0",placement:"bottom-end",children:[(0,d.jsx)(m.nR,{className:"bg-light fw-semibold py-2",children:"Account"}),(0,d.jsxs)(m.$f,{href:"#",children:[(0,d.jsx)(g.Z,{icon:N.$,className:"me-2"}),"Updates",(0,d.jsx)(m.C_,{color:"info",className:"ms-2",children:"42"})]}),(0,d.jsxs)(m.$f,{href:"#",children:[(0,d.jsx)(g.Z,{icon:Z.m,className:"me-2"}),"Messages",(0,d.jsx)(m.C_,{color:"success",className:"ms-2",children:"42"})]}),(0,d.jsxs)(m.$f,{href:"#",children:[(0,d.jsx)(g.Z,{icon:C.W,className:"me-2"}),"Tasks",(0,d.jsx)(m.C_,{color:"danger",className:"ms-2",children:"42"})]}),(0,d.jsxs)(m.$f,{href:"#",children:[(0,d.jsx)(g.Z,{icon:k.S,className:"me-2"}),"Comments",(0,d.jsx)(m.C_,{color:"warning",className:"ms-2",children:"42"})]}),(0,d.jsx)(m.nR,{className:"bg-light fw-semibold py-2",children:"Settings"}),(0,d.jsxs)(m.$f,{href:"#",children:[(0,d.jsx)(g.Z,{icon:b.E,className:"me-2"}),"Profile"]}),(0,d.jsxs)(m.$f,{href:"#",children:[(0,d.jsx)(g.Z,{icon:y.M,className:"me-2"}),"Settings"]}),(0,d.jsxs)(m.$f,{href:"#",children:[(0,d.jsx)(g.Z,{icon:w.W,className:"me-2"}),"Payments",(0,d.jsx)(m.C_,{color:"secondary",className:"ms-2",children:"42"})]}),(0,d.jsxs)(m.$f,{href:"#",children:[(0,d.jsx)(g.Z,{icon:_.D,className:"me-2"}),"Projects",(0,d.jsx)(m.C_,{color:"primary",className:"ms-2",children:"42"})]}),(0,d.jsx)(m.lK,{}),(0,d.jsxs)(m.$f,{href:"#",onClick:function(){return e((0,I.kS)())},children:[(0,d.jsx)(g.Z,{icon:S.U,className:"me-2"}),"Logout"]})]})]})},L=t(43744),z=function(){var e=(0,h.I0)(),n=(0,h.v9)((function(e){return e.app.sidebarShow}));return(0,d.jsx)(m.PO,{position:"sticky",className:"mb-1",children:(0,d.jsxs)(m.KB,{fluid:!0,children:[(0,d.jsx)(m.X4,{className:"ps-1",onClick:function(){return e((0,L.bu)(!n))},children:(0,d.jsx)(g.Z,{icon:v.N,size:"lg"})}),(0,d.jsx)(m.g3,{className:"ms-3",children:(0,d.jsx)(U,{})})]})})},A=t(1413),D=t(44925),P=t(11087),E=["component","name","badge","icon"],$=["component","name","icon","to"],M=function(e){var n,t=e.items,s=(0,f.TH)(),a=(null!==(n=(0,h.v9)((function(e){return e.auth.infoUser})))&&void 0!==n?n:{}).roles,i=void 0===a?[]:a,o=function(e,n,t){return(0,d.jsxs)(d.Fragment,{children:[n&&n,e&&e,t&&(0,d.jsx)(m.C_,{color:t.color,className:"ms-auto",children:t.text})]})},c=function(e,n){var t=e.component,s=e.name,a=e.badge,i=e.icon,c=(0,D.Z)(e,E),l=t;return(0,r.createElement)(l,(0,A.Z)((0,A.Z)({},c.to&&!c.items&&{component:P.OL}),{},{key:n},c),o(s,i,a))},l=function e(n,t){var r,a=n.component,l=n.name,u=n.icon,m=n.to,f=(0,D.Z)(n,$),h=a;return(0,d.jsx)(h,(0,A.Z)((0,A.Z)({idx:String(t),toggler:o(l,u),visible:s.pathname.startsWith(m)},f),{},{children:null===(r=n.items)||void 0===r?void 0:r.filter((function(e){var n=e.roles;return(void 0===n?[]:n).some((function(e){return i.includes(e)}))})).map((function(n,t){return n.items?e(n,t):c(n,t)}))}),t)};return(0,d.jsx)(r.Fragment,{children:t&&t.filter((function(e){var n=e.roles;return(void 0===n?[]:n).some((function(e){return i.includes(e)}))})).map((function(e,n){return e.items?l(e,n):c(e,n)}))})},H=t(34358),F=(t(82454),t(48425)),R=t(19428),W=t(62024),T=t(35425),K=t(77782),O=t(63482),Q=t(37311),V=t(62139),X=t(74533);var B=[{component:m.U6,name:"Home",to:"/home",icon:(0,d.jsx)(g.Z,{icon:F.I,customClassName:"nav-icon"}),roles:["ADMIN","SELLER"]},{component:m.dw,name:"Punto de venta",to:"/billing",icon:(0,d.jsx)(g.Z,{icon:R.A,customClassName:"nav-icon"}),roles:["ADMIN","SELLER"],items:[{component:m.U6,name:"Dashboard",to:"/billing/dashboard",icon:(0,d.jsx)(g.Z,{icon:W.x,customClassName:"nav-icon"}),roles:["ADMIN"]},{component:m.U6,name:"Facturaci\xf3n",to:"/billing",icon:(0,d.jsx)(g.Z,{icon:T.T,customClassName:"nav-icon"}),roles:["ADMIN","SELLER"]},{component:m.U6,name:"Historial de facturas",to:"/billings",icon:(0,d.jsx)(g.Z,{icon:K.g,customClassName:"nav-icon"}),roles:["ADMIN","SELLER"]},{component:m.U6,name:"Items",to:"/billing/items",icon:(0,d.jsx)(g.Z,{icon:O.P,customClassName:"nav-icon"}),roles:["ADMIN"]},{component:m.U6,name:"Categorias de items",to:"/billing/item-categories",icon:(0,d.jsx)(g.Z,{icon:Q.j,customClassName:"nav-icon"}),roles:["ADMIN"]},{component:m.U6,name:"Cargador de datos",to:"/billing/data-loader",icon:(0,d.jsx)(g.Z,{icon:V.u,customClassName:"nav-icon"}),roles:["ADMIN"]},{component:m.U6,name:"Sincronizador",to:"/billing/synchronizer",icon:(0,d.jsx)(g.Z,{icon:X.H,customClassName:"nav-icon"}),roles:["ADMIN"]}]}],G=function(){var e,n,t,r=(0,h.I0)(),s=(0,h.v9)((function(e){return e.app.sidebarUnfoldable})),a=(0,h.v9)((function(e){return e.app.showToast})),i=(0,h.v9)((function(e){return e.app.toastConfig})),o=(0,h.v9)((function(e){return e.app.sidebarShow}));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(m.z3,{position:"fixed",unfoldable:s,visible:o,onVisibleChange:function(e){r((0,L.bu)(e))},children:[(0,d.jsx)(m.Dl,{className:"d-none d-md-flex",to:"/",children:!s&&(0,d.jsx)("h4",{children:"Droguer\xeda Francisca"})}),(0,d.jsx)(m.Xk,{children:(0,d.jsx)(H.Z,{children:(0,d.jsx)(M,{items:B})})}),(0,d.jsxs)(m.oh,{onClick:function(){return r((0,I.kS)())},children:[(0,d.jsx)(g.Z,{icon:S.U,className:"me-2"}),"Logout"]}),(0,d.jsx)(m.iv,{className:"d-none d-lg-flex",onClick:function(){return r((0,L.r2)(!s))}})]}),(0,d.jsx)(m.KF,{placement:"top-end",children:(0,d.jsx)(m.oo,{visible:a,color:null!==(e=i.color)&&void 0!==e?e:"info",onClose:function(){r((0,L.W3)(!1))},delay:null!==(n=i.delay)&&void 0!==n?n:5e3,children:(0,d.jsxs)("div",{className:"d-flex",children:[(0,d.jsx)(m.S3,{className:"fs-6",children:null!==(t=i.message)&&void 0!==t?t:""}),(0,d.jsx)(m.Pv,{className:"me-2 m-auto"})]})})})]})},q=r.memo(G),J=t(47149),Y=t(46470),ee=function(e){var n=(0,h.I0)(),t=(0,h.v9)((function(e){return e.app.showHeader}));return(0,r.useEffect)((function(){n((0,J.Nx)())}),[n]),(0,d.jsx)("div",{children:(0,d.jsxs)(Y.SV,{fallback:(0,d.jsx)("h1",{children:"Algo sali\xf3 mal!"}),children:[(0,d.jsx)(q,{}),(0,d.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-light",children:[t&&(0,d.jsx)(z,{}),(0,d.jsx)("div",{className:"body flex-grow-1",children:(0,d.jsx)(j,{})})]})]})})}},47149:function(e,n,t){t.d(n,{$G:function(){return l},Nx:function(){return f},OK:function(){return c},c:function(){return u},kk:function(){return d},lC:function(){return m}});var r=t(1413),s=t(74165),a=t(15861),i=t(72698),o=t(50500),c=function(e){return function(){var n=(0,a.Z)((0,s.Z)().mark((function n(t,r,a){var o,c;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.post("/items",e);case 2:o=n.sent,c=o.status,t(201===c?(0,i.gc)(!0):(0,i.gc)(!1));case 5:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}()},l=function(e){return function(){var n=(0,a.Z)((0,s.Z)().mark((function n(t,a,o){var c,l,u,m;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=(0,r.Z)({},e),l=c._id,delete c._id,n.next=5,o.put("/items/".concat(l),c);case 5:u=n.sent,m=u.status,t(201===m?(0,i.gc)(!0):(0,i.gc)(!1));case 8:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}()},u=function(e){return function(){var n=(0,a.Z)((0,s.Z)().mark((function n(t,r,a){var o,c;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.post("/items/bulk",e);case 2:o=n.sent,c=o.status,t(201===c?(0,i.gc)(!0):(0,i.gc)(!1));case 5:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}()},m=function(e){return function(){var n=(0,a.Z)((0,s.Z)().mark((function n(t,r,a){var o,c;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,a.get("/items/code/".concat(e));case 4:o=n.sent,c=o.data,200===o.status&&t((0,i.HZ)(c));case 8:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}()},d=function(e){return function(){var n=(0,a.Z)((0,s.Z)().mark((function n(t,r,a){var c,l,u;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=new URLSearchParams(e).toString(),n.next=3,(0,o.Z)();case 3:if(!n.sent){n.next=10;break}return n.next=7,a.get("/items".concat(c.length>0?"?"+c.toString():""));case 7:n.t0=n.sent,n.next=11;break;case 10:n.t0=h(r(),e);case 11:l=n.t0,u=l.data,200===l.status&&t((0,i.U7)(u));case 15:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}()},f=function(){return function(){var e=(0,a.Z)((0,s.Z)().mark((function e(n,t,r){var a,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get("/items");case 2:a=e.sent,o=a.data,200===a.status&&n((0,i.P_)(o));case 6:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}()};function h(e,n){var t=e.items.offline.items.filter((function(e){var t=e.code,r=e.name;return t.toUpperCase().includes(n.code.toUpperCase())||r.toUpperCase().includes(n.name.toUpperCase())}));return t.length>10&&(t.length=10),{data:t,status:200}}}}]);
//# sourceMappingURL=873.b48a931d.chunk.js.map